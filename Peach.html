<!DOCTYPE html>
<html lang="en">
<head>
  <title>Peach</title>
  <script src="http://cdn.jsdelivr.net/npm/phaser@3.19.0/dist/phaser.min.js"></script>
</head>
<body>
<script>

  var windowWidth = window.innerWidth - window.innerWidth*0.017;
  var windowHeight = window.innerHeight - window.innerHeight*0.015;

  const config = {
    type: Phaser.AUTO,
    width: windowWidth,
    height: windowHeight,
    transparent: true,
    scene: {
      preload: preload,
      create: create,
      update: update
    }
  };

  const game = new Phaser.Game(config);

  function preload()
  {
    this.load.image('planeSU57', 'Assets/SU-57.png');
    this.load.image('clouds', 'Assets/Cloud-Background.jpg');
    this.load.image('Akali', 'Assets/Akali.png');
  }

  function create()
  {
    this.add.image(400, 300, 'clouds').setScale(1);
    //plane  = this.add.image(400, 300, 'planeSU57').setScale(1);
    akali = this.add.image(400, 300, 'Akali').setScale(0.2);
  }

  var plane;
  var akali;
  var player;

  const walk_speed = 10;
  const jump_force = 5;
  const gravity = 20;

  function update()
  {
    player = akali;
    var keyz = this.input.keyboard.addKey('z');
    var keys = this.input.keyboard.addKey('s');
    var keyq = this.input.keyboard.addKey('q');
    var keyd = this.input.keyboard.addKey('d');
    var keyRight = this.input.keyboard.addKey('RIGHT');
    var keySpace = this.input.keyboard.addKey('SPACE');

    //Gravity
    if(player.y < windowHeight - (20+(player.height*0.2)/2))
    {
      player.y += gravity;
    }

    if(keyd.isDown && (player.x + (player.width*0.2)/2) < windowWidth)
    {
      player.x += walk_speed;
    }
    if(keyq.isDown && (player.x - (player.width*0.2)/2) > 0)
    {
      player.x -= walk_speed;
    }
    if(keyz.isDown && (player.y - (player.height*0.2)/2) > 0)
    {
      player.y -= walk_speed;
    }
    if(keys.isDown && (player.y + (player.height*0.2)/2) < windowHeight)
    {
      player.y += walk_speed;
    }
    keySpace.on('down', function(event)
    {
      if((player.y - (player.height*0.2)/2) > 0)
      {
        for(i=0;i<jump_force;i++)
        {
          player.y -= 1;
        }
      }
    });

  }

</script>
</body>
</html>
